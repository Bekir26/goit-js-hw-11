{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n{/* <li>\n          <a href=\"./img/deneme.png\">\n            <img src=\"./img/deneme.png\" alt=\"Image 1\" />\n            <div class=\"general-likes-container\">\n              <div class=\"likes-container\">\n                <h3 class=\"likes-title\">Likes</h3>\n                <div class=\"likes\">1813</div>\n              </div>\n              <div class=\"likes-container\">\n                <h3 class=\"likes-title\">Views</h3>\n                <div class=\"likes\">900290</div>\n              </div>\n              <div class=\"likes-container\">\n                <h3 class=\"likes-title\">Comments</h3>\n                <div class=\"likes\">229</div>\n              </div>\n              <div class=\"likes-container\">\n                <h3 class=\"likes-title\">Downloads</h3>\n                <div class=\"likes\">610937</div>\n              </div>\n            </div>\n          </a>\n        </li> */}\n\nconst loadingDOM = document.querySelector('.loading');\nconst search_btn = document.querySelector('.searchBtn');\nconst galleryDOM = document.querySelector('.gallery');\nconst base_url = \"https://pixabay.com/api/?\"\nconst api_key = \"46048347-9d88aa79f4238f227ee13ac9b\"\n// const messageContainerDOM = document.querySelector('.messageContainer'); \n\nfunction refresh(){\n  galleryDOM.innerHTML=\"\";\n}\n\nconst searchInput = document.querySelector('.searchInput');\nasync function getPhoto(searchText){\n  refresh();\n  const full_url = `${base_url}key=${api_key}&q=${searchText}&image_type=photo&orientation=horizontal&safesearch=true&per_page=9`;\n  \n  try {\n    loadingDOM.style.display = \"block\";\n    const response = await fetch(full_url);\n    \n    if (!response.ok) {\n      throw new Error(`Response status: ${response.status}`);\n    }\n    loadingDOM.style.display = \"none\";\n    const images = await response.json();\n    if(images?.hits.length > 0){\n      searchInput.value = \"\";\n      const fragment = document.createDocumentFragment();\n      images.hits.forEach((image) => {\n        const li = document.createElement('li');\n        li.innerHTML = `<a href=\"${image.largeImageURL}\">\n            <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n            <div class=\"general-likes-container\">\n              <div class=\"likes-container\">\n                <h3 class=\"likes-title\">Likes</h3>\n                <div class=\"likes\">${image.likes}</div>\n              </div>\n              <div class=\"likes-container\">\n                <h3 class=\"likes-title\">Views</h3>\n                <div class=\"likes\">${image.views}</div>\n              </div>\n              <div class=\"likes-container\">\n                <h3 class=\"likes-title\">Comments</h3>\n                <div class=\"likes\">${image.comments}</div>\n              </div>\n              <div class=\"likes-container\">\n                <h3 class=\"likes-title\">Downloads</h3>\n                <div class=\"likes\">${image.downloads}</div>\n              </div>\n            </div>\n          </a>`\n        fragment.appendChild(li);\n      })\n      galleryDOM.appendChild(fragment);\n      const lightbox = new SimpleLightbox('.gallery a', {\n        captions: true,             \n        captionsData: 'alt',       \n        captionDelay: 250,         \n        showCounter: true,          \n        enableKeyboard: true,      \n        loop: true,                \n        nav: true,                 \n        close: true,                \n        animationSpeed: 250,\n    });\n    \n    lightbox.on('show.simplelightbox', function () {\n      console.log('Modal is shown');\n    });\n    \n    lightbox.on('close.simplelightbox', function () {\n      console.log('Modal is closed');\n    });\n    }\n    else{\n      // messageContainerDOM.style.display = \"flex\";\n      // const closeBtn = document.querySelector('.close');\n      // closeBtn.addEventListener('click', () => {\n      //   messageContainerDOM.style.display = \"none\";\n      // })\n      iziToast.show({\n        theme: 'custom',\n        icon: 'fas fa-exclamation-circle',\n        message: 'Sorry, there are no images matching your search query. Please, try again!',\n        position: 'topRight',\n        progressBarColor: '#B51B1B',\n        onOpening: function(instance, toast){\n            console.info('Modal is open');\n        },\n        onClosing: function(instance, toast, closedBy){\n            console.info('closedBy: ' + closedBy); // tells if it was closed by 'drag' or 'button'\n        }\n    });\n    }\n    \n    \n  } catch (error) {\n    loadingDOM.style.display = \"none\";\n    console.error(error.message);\n  }\n  \n}\n\nsearch_btn.addEventListener('click', _ => {\n  const searchText = searchInput.value.trim();\n  \n  if(searchText){\n    getPhoto(searchText);\n  }\n  else {\n    alert(\"Search input cant be empty\");\n  }\n})"],"names":["loadingDOM","search_btn","galleryDOM","base_url","api_key","refresh","searchInput","getPhoto","searchText","full_url","response","images","fragment","image","li","lightbox","SimpleLightbox","iziToast","instance","toast","closedBy","error","_"],"mappings":"6vBA6BA,MAAMA,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAa,SAAS,cAAc,YAAY,EAChDC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAW,4BACXC,EAAU,qCAGhB,SAASC,GAAS,CAChBH,EAAW,UAAU,EACvB,CAEA,MAAMI,EAAc,SAAS,cAAc,cAAc,EACzD,eAAeC,EAASC,EAAW,CACjCH,IACA,MAAMI,EAAW,GAAGN,CAAQ,OAAOC,CAAO,MAAMI,CAAU,sEAE1D,GAAI,CACFR,EAAW,MAAM,QAAU,QAC3B,MAAMU,EAAW,MAAM,MAAMD,CAAQ,EAErC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,oBAAoBA,EAAS,MAAM,EAAE,EAEvDV,EAAW,MAAM,QAAU,OAC3B,MAAMW,EAAS,MAAMD,EAAS,OAC9B,IAAGC,GAAA,YAAAA,EAAQ,KAAK,QAAS,EAAE,CACzBL,EAAY,MAAQ,GACpB,MAAMM,EAAW,SAAS,yBAC1BD,EAAO,KAAK,QAASE,GAAU,CAC7B,MAAMC,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,UAAY,YAAYD,EAAM,aAAa;AAAA,wBAC9BA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,qCAIzBA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,qCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,qCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,qCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,gBAI5CD,EAAS,YAAYE,CAAE,CAC/B,CAAO,EACDZ,EAAW,YAAYU,CAAQ,EAC/B,MAAMG,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,IACd,YAAa,GACb,eAAgB,GAChB,KAAM,GACN,IAAK,GACL,MAAO,GACP,eAAgB,GACxB,CAAK,EAEDD,EAAS,GAAG,sBAAuB,UAAY,CAC7C,QAAQ,IAAI,gBAAgB,CAClC,CAAK,EAEDA,EAAS,GAAG,uBAAwB,UAAY,CAC9C,QAAQ,IAAI,iBAAiB,CACnC,CAAK,CACA,MAOCE,EAAS,KAAK,CACZ,MAAO,SACP,KAAM,4BACN,QAAS,4EACT,SAAU,WACV,iBAAkB,UAClB,UAAW,SAASC,EAAUC,EAAM,CAChC,QAAQ,KAAK,eAAe,CAC/B,EACD,UAAW,SAASD,EAAUC,EAAOC,EAAS,CAC1C,QAAQ,KAAK,aAAeA,CAAQ,CACvC,CACT,CAAK,CAIF,OAAQC,EAAO,CACdrB,EAAW,MAAM,QAAU,OAC3B,QAAQ,MAAMqB,EAAM,OAAO,CAC5B,CAEH,CAEApB,EAAW,iBAAiB,QAASqB,GAAK,CACxC,MAAMd,EAAaF,EAAY,MAAM,KAAI,EAEtCE,EACDD,EAASC,CAAU,EAGnB,MAAM,4BAA4B,CAEtC,CAAC"}